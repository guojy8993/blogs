VXLAN封包结构示意:
+---------+-------+-------+-------+----------+-----+
| Outer   | Outer |  UDP  | VXLAN | Original | FCS |
|  MAC    |  IP   | Header| Header| L2 Frame |     |
| Header  | Header|       |       |          |     |
+---------+-------+-------+-------+----------+-----+
  14bytes   20bytes 8bytes  8bytes

(1)其中 Outer MAC Header示意:
+---------+-------+-------+--------+----------+
|  DST    |  SRC  |  VLAN  | VXLAN | Ethernet |
|  MAC    |  MAC  |  TYPE  | TAG   | TYPE     |
|  Addr   |  Addr | 0x8100 |       |          |
+---------+-------+--------+-------+----------+
   48bit    48bit   16bit    16bit    16bit

(2)其中 Outer IP Header示意:
+-----------+-----------+----------+--------+-------+
| IP Header | Protocol  |  Header  | Outer  | Outer |
| Misc Date |  0x11     | CheckSUM |  Src   | Dst   |
|           |           |          |  IP    | IP    |
+-----------+-----------+----------+--------+-------+
   72bit       8bit         16bit     32bit    32bit

(3)其中 UDP Header示意图:
+-----------+-----------+----------+--------+
| UDP       | VXLAN     |  UDP     | Check  |
| SRC Port  |  Port     |  Length  |  SUM   |
|           |           |          |        |
+-----------+-----------+----------+--------+
   16bit        16bit       16bit     16bit 

(4)其中 VXLAN Header示意图:
+-----------+-----------+----------+----------+
| VXLAN     | Reserved  |  VNID    | Reserved |
| RRRR1RRR  |           |          |          |
|           |           |          |          |
+-----------+-----------+----------+----------+
   8bit         24bit       24bit      8bit 


参考链接:
1.使用 ip link 创建vxlan设备:https://www.kernel.org/doc/Documentation/networking/vxlan.txt
2.openstack的ovs flow logic:https://wiki.openstack.org/wiki/Ovs-flow-logic
                            http://www.opencloudblog.com/?p=300
3.l3 agent 高可用: https://wiki.openstack.org/wiki/Neutron/L3_High_Availability_VRRP
4.docker的vxlan网络:http://blog.thestateofme.com/2014/06/08/connecting-docker-containers-between-vms-with-vxlan/
                    https://docs.docker.com/engine/userguide/networking/dockernetworks/
5.kilo network guide:http://docs.openstack.org/kilo/networking-guide/scenario_legacy_lb.html
